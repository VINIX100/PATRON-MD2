const a12_0x581308=a12_0x25ef;function a12_0x25ef(_0x5bc52b,_0x3b8be0){const _0x52a694=a12_0x52a6();return a12_0x25ef=function(_0x25ef96,_0x43daa8){_0x25ef96=_0x25ef96-0x1eb;let _0x1f57c8=_0x52a694[_0x25ef96];return _0x1f57c8;},a12_0x25ef(_0x5bc52b,_0x3b8be0);}(function(_0x54601f,_0x1eec2e){const _0x4b8bc7=a12_0x25ef,_0x5110a4=_0x54601f();while(!![]){try{const _0x40c9e3=-parseInt(_0x4b8bc7(0x203))/0x1+-parseInt(_0x4b8bc7(0x1fa))/0x2*(-parseInt(_0x4b8bc7(0x205))/0x3)+-parseInt(_0x4b8bc7(0x212))/0x4*(parseInt(_0x4b8bc7(0x21a))/0x5)+parseInt(_0x4b8bc7(0x213))/0x6*(-parseInt(_0x4b8bc7(0x1fe))/0x7)+parseInt(_0x4b8bc7(0x1f1))/0x8*(parseInt(_0x4b8bc7(0x1f5))/0x9)+parseInt(_0x4b8bc7(0x218))/0xa+-parseInt(_0x4b8bc7(0x210))/0xb*(parseInt(_0x4b8bc7(0x214))/0xc);if(_0x40c9e3===_0x1eec2e)break;else _0x5110a4['push'](_0x5110a4['shift']());}catch(_0x268f7a){_0x5110a4['push'](_0x5110a4['shift']());}}}(a12_0x52a6,0xe0b14));const axios=require(a12_0x581308(0x208)),fs=require('fs'),path=require(a12_0x581308(0x1f9)),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x581308(0x21f))['path'],ffmpeg=require(a12_0x581308(0x1f6));ffmpeg[a12_0x581308(0x1ff)](ffmpegPath);async function fetchImage(_0x5c5f84){const _0x46e0f5=a12_0x581308,_0x56951d={'BTvcn':_0x46e0f5(0x1ec),'BKnvz':'Error\x20fetching\x20image:'};try{const _0x51bf59=await axios[_0x46e0f5(0x201)](_0x5c5f84,{'responseType':_0x56951d['BTvcn']});return _0x51bf59[_0x46e0f5(0x215)];}catch(_0x539c6b){console[_0x46e0f5(0x20c)](_0x56951d['BKnvz'],_0x539c6b);throw new Error(_0x46e0f5(0x217));}}async function fetchGif(_0xe630f8){const _0x52bacd=a12_0x581308,_0x223c49={'ACFjh':_0x52bacd(0x1ec),'BcgFw':_0x52bacd(0x20a),'uLMPz':'Could\x20not\x20fetch\x20GIF.'};try{const _0x16b6e5=await axios[_0x52bacd(0x201)](_0xe630f8,{'responseType':_0x223c49[_0x52bacd(0x1f7)]});return _0x16b6e5['data'];}catch(_0x33c712){console['error'](_0x223c49[_0x52bacd(0x1fc)],_0x33c712);throw new Error(_0x223c49['uLMPz']);}}function a12_0x52a6(){const _0x345197=['get','-loop','917749jqAfBh','webp','1506ddsgIn','libwebp','FHhXB','axios','readFileSync','Error\x20fetching\x20GIF:','toFormat','error','-preset','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','kNKVc','11zrhGrP','unlinkSync','2000684tfWQUO','699342TItBFO','652956tCPYsg','data','fnuIG','Could\x20not\x20fetch\x20image.','12839810CbAegw','eFJer','5TQMfNK','default','writeFileSync','LjDVd','fUvzt','@ffmpeg-installer/ffmpeg','ZwLRb','save','.webp','.gif','arraybuffer','join','-vf','toString','-vcodec','13142264pWzVuM','IIZPY','FUwSj','thnOv','9TpcBRO','fluent-ffmpeg','ACFjh','randomBytes','path','194Yepjde','RfLoB','BcgFw','-vsync','35WTpeyQ','setFfmpegPath','hex'];a12_0x52a6=function(){return _0x345197;};return a12_0x52a6();}async function gifToSticker(_0x3174f9){const _0x1c577f=a12_0x581308,_0x14090a={'fnuIG':function(_0x2237c9,_0x204cc1){return _0x2237c9(_0x204cc1);},'RfLoB':_0x1c577f(0x20c),'FHhXB':'end','ZwLRb':_0x1c577f(0x1f0),'LjDVd':_0x1c577f(0x206),'kNKVc':_0x1c577f(0x1ee),'eFJer':_0x1c577f(0x20e),'thnOv':_0x1c577f(0x20d),'WXPPv':_0x1c577f(0x21b),'FUwSj':function(_0x301880){return _0x301880();},'IIZPY':function(_0x3210df,_0x5e46ef){return _0x3210df+_0x5e46ef;},'JSTRo':_0x1c577f(0x200),'fUvzt':_0x1c577f(0x222),'lnSAn':_0x1c577f(0x1eb)},_0x347768=path[_0x1c577f(0x1ed)](_0x14090a[_0x1c577f(0x1f3)](tmpdir),_0x14090a[_0x1c577f(0x1f2)](Crypto[_0x1c577f(0x1f8)](0x6)[_0x1c577f(0x1ef)](_0x14090a['JSTRo']),_0x14090a[_0x1c577f(0x21e)])),_0x2f4006=path[_0x1c577f(0x1ed)](_0x14090a[_0x1c577f(0x1f3)](tmpdir),Crypto['randomBytes'](0x6)[_0x1c577f(0x1ef)](_0x1c577f(0x200))+_0x14090a['lnSAn']);fs[_0x1c577f(0x21c)](_0x2f4006,_0x3174f9),await new Promise((_0x5183b1,_0x3f1ae3)=>{const _0x224f19=_0x1c577f;_0x14090a[_0x224f19(0x216)](ffmpeg,_0x2f4006)['on'](_0x14090a[_0x224f19(0x1fb)],_0x3f1ae3)['on'](_0x14090a[_0x224f19(0x207)],()=>_0x5183b1(!![]))['addOutputOptions']([_0x14090a[_0x224f19(0x220)],_0x14090a[_0x224f19(0x21d)],_0x14090a[_0x224f19(0x20f)],_0x14090a[_0x224f19(0x219)],_0x224f19(0x202),'0',_0x14090a[_0x224f19(0x1f4)],_0x14090a['WXPPv'],'-an',_0x224f19(0x1fd),'0'])[_0x224f19(0x20b)](_0x224f19(0x204))[_0x224f19(0x221)](_0x347768);});const _0x2082d2=fs[_0x1c577f(0x209)](_0x347768);return fs[_0x1c577f(0x211)](_0x347768),fs[_0x1c577f(0x211)](_0x2f4006),_0x2082d2;}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};